/*
  * kihon 0.0.11
  * https://www.npmjs.com/package/kihon
  *
  * The MIT License (MIT)
  * Copyright (c) 2018 Hyun-Seok.Kim, dragmove@gmail.com
  */

!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?exports.Kihon=n(require("jquery")):e.Kihon=n(e.jQuery)}("undefined"!=typeof self?self:this,function(e){return function(e){function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=2)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=arguments,l=n.not=function(e){return function(n){return!e(n)}},a=n.isDefined=function(e){return null!==e&&void 0!==e},i=(n.isNotDef=l(a),n.isBoolean=function(e){return!!a(e)&&e.constructor===Boolean},n.isFunction=function(e){return!!a(e)&&e.constructor===Function},n.anyOf=function(){return Array.prototype.slice.call(o).some(function(e){return!0===e})},n.singleEle=function(e){return 1===e.length});n.notSingleEle=l(i)},function(n,t){n.exports=e},function(e,n,t){e.exports=t(3)},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(4),a=o(l),i=t(5),r=o(i),u=t(6),d=o(u),c=t(7),s=o(c);n.default={FullSizeBg:a.default,ImageLoader:r.default,Navi:d.default,Overlay:s.default}},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=t(1),i=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(0),u=function(){function e(n){if(o(this,e),(0,r.isNotDef)(n))throw new Error("FullSizeBg: require options object when create instance.");var t=this;if(t._option=i.default.extend({wrap:null,imgWrap:null,imgWidth:320,imgHeight:240,alignX:"center",alignY:"center",global:window},n),t._global=t._option.global,t._initialized=!1,t._uniqueId=Date.now(),t._$wrap=(0,i.default)(t._option.wrap),t._$imgWrap=(0,i.default)(t._option.imgWrap),t._$img=(0,i.default)("img",t._option.imgWrap),t._proxy={resizeEventHandler:null},(0,r.anyOf)((0,r.notSingleEle)(t._$img),(0,r.notSingleEle)(t._$imgWrap),(0,r.notSingleEle)(t._$img)))throw new Error("FullSizeBg: require options object has a single wrap, imgWrap, img.")}return l(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._proxy.resizeEventHandler=i.default.proxy(e.resize,e),e.setResizeEventHandler(!0),e.resize(),e)}},{key:"setResizeEventHandler",value:function(e){if((0,r.not)(r.isBoolean)(e))throw new Error("FullSizeBg: setResizeEventHandler require boolean parameter.");var n=this,t="resize.kihon.fullsizebg."+n._uniqueId;(0,i.default)(n._global).off(t,n._proxy.resizeEventHandler),e&&(0,i.default)(n._global).on(t,n._proxy.resizeEventHandler)}},{key:"resize",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this),n=e.getImageSizeAspectFill(e._option.imgWidth,e._option.imgHeight);return e._$img.css({width:n.width,height:n.height}),e._setWrapAlign(e._option.alignX,e._option.alignY,n),e._$wrap.css({width:e._global.innerWidth,height:e._global.innerHeight}),e}},{key:"getImageSizeAspectFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=this,o=t._global.innerWidth,l=t._global.innerHeight,a=o,i=Math.ceil(o/e*n);return i<l&&(a=Math.ceil(l/n*e),i=l),{width:a,height:i}}},{key:"destroy",value:function(){var e=this;return e._initialized=!1,e.setResizeEventHandler(!1),e._proxy.resizeEventHandler=null,e}},{key:"_setWrapAlign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:0,height:0},o=this,l=o._global.innerWidth,a=o._global.innerHeight,i=0,r=0;switch(e){case"left":i=0;break;case"center":i=Math.round((l-t.width)/2);break;case"right":i=Math.round(l-t.width)}switch(n){case"top":r=0;break;case"center":r=Math.round((a-t.height)/2);break;case"bottom":r=Math.round(a-t.height)}return o._$imgWrap.css({left:i,top:r}),o}}]),e}();n.default=u},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=t(0),i=function(){function e(n){o(this,e);var t=this;if((0,a.isNotDef)(n))throw new Error("ImageLoader: require options object when create instance.");t._loadCompleteCallback=(0,a.isFunction)(n.loadCompleteCallback)?n.loadCompleteCallback:null,t._loadPerCompleteCallback=(0,a.isFunction)(n.loadPerCompleteCallback)?n.loadPerCompleteCallback:null,t._loadErrorCallback=(0,a.isFunction)(n.loadErrorCallback)?n.loadErrorCallback:null,t._isLoading=!1,t._isFinish=!1,t._loadedImgs=[],t._imgs=[],t._imgUrls=[],t._loadingIndex=0,t._loadFailNum=0,t._loadSuccessNum=0,t._loadCompleteNum=0,t._percentageLoaded=0}return l(e,[{key:"start",value:function(e){var n=this;if((0,a.isNotDef)(e)||(0,a.not)(Array.isArray)(e))throw TypeError("ImageLoader: start require array parameter");return e.length>0&&(n._imgUrls=e,n._isLoading||(n._isLoading=!0,n._isFinish=!1,n._loadNext())),n}},{key:"isFinished",value:function(){return this._isFinish}},{key:"getLoadedImgs",value:function(){return this._loadedImgs}},{key:"getPercentageLoaded",value:function(){return this.percentageLoaded}},{key:"destroy",value:function(){var e=this;if(!0===e._isLoading)for(var n=void 0,t=0,o=e._imgs.length;t<o;t++)(n=e._imgs[t])&&(n.onload=null,n.onerror=null);return e._loadCompleteCallback=null,e._loadPerCompleteCallback=null,e._loadErrorCallback=null,e._isLoading=!1,e._isFinish=!1,e._loadedImgs=[],e._imgs=[],e._imgUrls=[],e._loadingIndex=0,e._loadFailNum=0,e._loadSuccessNum=0,e._loadCompleteNum=0,e._percentageLoaded=0,e}},{key:"_loadNext",value:function(){var e=this;if(e._loadingIndex>=e._imgUrls.length)return e._isLoading=!1,e._isFinish=!0,void(e._loadCompleteCallback&&e._loadCompleteCallback.call(null,{imgs:e._loadedImgs,percentage:e._percentageLoaded}));var n=document.createElement("img");n.onload=function(n){var t=this;t&&e._loadedImgs.push(t),e._loadingIndex++,e._loadSuccessNum++,e._loadCompleteNum++,e._percentageLoaded=e._loadCompleteNum/e._imgUrls.length,e._loadPerCompleteCallback&&e._loadPerCompleteCallback.call(null,{event:n,img:t,percentage:e._percentageLoaded}),e._loadNext()},n.onerror=function(n){var t=this;e._loadedImgs.push(null),e._loadingIndex++,e._loadFailNum++,e._loadCompleteNum++,e._percentageLoaded=e._loadCompleteNum/e._imgUrls.length,e._loadErrorCallback&&e._loadErrorCallback.call(null,{event:n,img:t,percentage:e._percentageLoaded}),e._loadNext()},n.src=e._imgUrls[e._loadingIndex],e._imgs.push(n)}}]),e}();n.default=i},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=t(1),i=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(0),u=function(){function e(n){if(o(this,e),(0,r.isNotDef)(n))throw new Error("Navi: require options object when create instance.");var t=this;if(t._option=i.default.extend({wrap:null,btns:[],mouseoverCallback:null,mouseoutCallback:null,mousedownCallback:null,mouseupCallback:null,clickCallback:null,activateCallback:null},n),t._initialized=!1,t._uniqueId=Date.now(),t._$btns=(0,i.default)(t._option.btns||[]),t._currentIndex=0,t._activatedIndex=0,t._proxy={mouseoverBtnEventHandler:null,mouseoutBtnEventHandler:null,mousedownBtnEventHandler:null,mouseupBtnEventHandler:null,clickBtnEventHandler:null},(0,r.notSingleEle)((0,i.default)(t._option.wrap)))throw new Error("Navi: require options object has a single wrap.")}return l(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._proxy.mouseoverBtnEventHandler=i.default.proxy(e._mouseoverBtnEventHandler,e),e._proxy.mouseoutBtnEventHandler=i.default.proxy(e._mouseoutBtnEventHandler,e),e._proxy.mousedownBtnEventHandler=i.default.proxy(e._mousedownBtnEventHandler,e),e._proxy.mouseupBtnEventHandler=i.default.proxy(e._mouseupBtnEventHandler,e),e._proxy.clickBtnEventHandler=i.default.proxy(e._clickBtnEventHandler,e),e.setBtnsEventHandler(!0),e)}},{key:"getBtns",value:function(){return this._$btns.toArray()}},{key:"getBtn",value:function(e){var n=this,t=e-1;return t<0||t>=n._$btns.length?null:n._$btns.get(t)}},{key:"getActivatedIndex",value:function(){return this._activatedIndex}},{key:"activate",value:function(e){var n=this,t=e<=0||e>n._$btns.length?0:e;return(0,r.isFunction)(n._option.activateCallback)&&n._option.activateCallback.call(null,{prevActivatedIndex:n._activatedIndex,index:t}),n._activatedIndex=t,n}},{key:"setBtnsEventHandler",value:function(e){if((0,r.not)(r.isBoolean)(e))throw new Error("Navi: setBtnsEventHandler require boolean parameter.");var n=this;return(0,i.default)(n._option.wrap).off("mouseover.kihon.navi."+n._uniqueId,n._proxy.mouseoverBtnEventHandler).off("mouseout.kihon.navi."+n._uniqueId,n._proxy.mouseoutBtnEventHandler).off("mousedown.kihon.navi."+n._uniqueId,n._proxy.mousedownBtnEventHandler).off("mouseup.kihon.navi."+n._uniqueId,n._proxy.mouseupBtnEventHandler).off("click.kihon.navi."+n._uniqueId,n._proxy.clickBtnEventHandler),e&&(0,i.default)(n._option.wrap).on("mouseover.kihon.navi."+n._uniqueId,n._proxy.mouseoverBtnEventHandler).on("mouseout.kihon.navi."+n._uniqueId,n._proxy.mouseoutBtnEventHandler).on("mousedown.kihon.navi."+n._uniqueId,n._proxy.mousedownBtnEventHandler).on("mouseup.kihon.navi."+n._uniqueId,n._proxy.mouseupBtnEventHandler).on("click.kihon.navi."+n._uniqueId,n._proxy.clickBtnEventHandler),n}},{key:"destroy",value:function(){var e=this;return e.setBtnsEventHandler(!1),e._initialized=!1,e._currentIndex=0,e._activatedIndex=0,e._proxy.mouseoverBtnEventHandler=null,e._proxy.mouseoutBtnEventHandler=null,e._proxy.mousedownBtnEventHandler=null,e._proxy.mouseupBtnEventHandler=null,e._proxy.clickBtnEventHandler=null,e}},{key:"_mouseoverBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);o<0||(n._currentIndex=o+1,(0,r.isFunction)(n._option.mouseoverCallback)&&n._option.mouseoverCallback.call(null,{event:e,btn:t,index:n._currentIndex}))}},{key:"_mouseoutBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);o<0||(0,r.isFunction)(n._option.mouseoutCallback)&&n._option.mouseoutCallback.call(null,{event:e,btn:t,index:o+1})}},{key:"_mousedownBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);o<0||(e.preventDefault(),(0,r.isFunction)(n._option.mousedownCallback)&&n._option.mousedownCallback.call(null,{event:e,btn:t,index:o+1}))}},{key:"_mouseupBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);o<0||(e.preventDefault(),(0,r.isFunction)(n._option.mouseupCallback)&&n._option.mouseupCallback.call(null,{event:e,btn:t,index:o+1}))}},{key:"_clickBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);if(!(o<0)){e.preventDefault();var l=n._activatedIndex;(0,r.isFunction)(n._option.clickCallback)&&n._option.clickCallback.call(null,{event:e,btn:t,prevActivatedIndex:l,index:o+1}),(0,r.isFunction)(n._option.activateCallback)&&n._option.activateCallback.call(null,{prevActivatedIndex:l,index:o+1}),n._currentIndex=n._activatedIndex=o+1}}}]),e}();n.default=u},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=t(1),i=function(e){return e&&e.__esModule?e:{default:e}}(a),r=t(0),u=function(){function e(n){o(this,e);var t=this;t._option=i.default.extend({class:"overlay",color:"#000",opacity:.5,appendTo:(0,i.default)("body"),clickCallback:null},n),t._initialized=!1,t._uniqueId=Date.now(),t._$node=null,t._$parentNode=t._option.appendTo,t._proxy={clickOverlayEventHandler:null}}return l(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._$node=(0,i.default)(document.createElement("div")).addClass(e._option.class),e._$node.css({position:"fixed",width:"100%",height:"100%",top:0,left:0,"background-color":e._option.color,opacity:e._option.opacity,filter:"alpha(opacity="+100*e._option.opacity+")"}),e._$parentNode.append(e._$node),e._proxy.clickOverlayEventHandler=(0,r.isFunction)(e._option.clickCallback)?i.default.proxy(e._option.clickCallback,e):null,e.hide(),e.setNodeEventHandler(!0),e)}},{key:"setNodeEventHandler",value:function(e){if((0,r.not)(r.isBoolean)(e))throw new Error("Overlay: setNodeEventHandler require boolean parameter.");var n=this,t="click.kihon.overlay."+n._uniqueId;return(0,r.not)(r.isFunction)(n._option.clickCallback)?n:(n._$node.off(t,n._proxy.clickOverlayEventHandler),e&&n._$node.on(t,n._proxy.clickOverlayEventHandler),n)}},{key:"getNode",value:function(){return this._$node}},{key:"setCss",value:function(e){var n=this;return n._$node.length>0&&n._$node.css(e),n}},{key:"appendTo",value:function(e){var n=this;return n._$parentNode=n._option.appendTo=(0,i.default)(e),n._$parentNode.append(n._$node),n}},{key:"show",value:function(){var e=this;return e._$node.length>0&&e._$node.show(),e}},{key:"hide",value:function(){var e=this;return e._$node.length>0&&e._$node.hide(),e}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this;if(e=i.default.extend({isRemoveNode:!0},e),(0,r.not)(r.isBoolean)(e.isRemoveNode))throw new Error("Overlay: destroy isRemoveNode variable type of option should be boolean.");return n._initialized=!1,n.setNodeEventHandler(!1),n._proxy.clickOverlayEventHandler=null,e.isRemoveNode&&n._$node.remove(),n._$node=null,n._$parentNode=null,n.option=null,n}}]),e}();n.default=u}]).default});
//# sourceMappingURL=kihon.min.js.map