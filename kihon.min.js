/*
  * kihon 0.0.15
  * https://www.npmjs.com/package/kihon
  *
  * The MIT License (MIT)
  * Copyright (c) 2018 Hyun-Seok.Kim, dragmove@gmail.com
  */

!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?exports.Kihon=n(require("jquery")):e.Kihon=n(e.jQuery)}("undefined"!=typeof self?self:this,function(e){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=3)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=arguments,r=(n.truthy=function(e){return!!e},n.falsy=function(e){return!e}),i=n.not=function(e){return function(n){return!e(n)}},l=n.existy=function(e){return null!=e},a=n.isDefined=function(e){return null!==e&&void 0!==e},u=n.isNotDef=i(a),d=(n.isBoolean=function(e){return!u(e)&&e.constructor===Boolean},n.isNumber=function(e){return!u(e)&&e.constructor===Number}),s=n.isString=function(e){return!u(e)&&e.constructor===String},c=n.isFunction=function(e){return!u(e)&&e.constructor===Function},v=(n.isVideoElement=function(e){return!u(e)&&e.constructor===HTMLVideoElement},n.allOf=function(){return Array.prototype.slice.call(arguments).every(function(e){return!0===e})}),p=(n.anyOf=function(){return Array.prototype.slice.call(o).some(function(e){return!0===e})},n.singleEle=function(e){return 1===e.length}),_=(n.notSingleEle=i(p),n.each=function(e,n,t){if(r(Array.isArray(e)||s(e)))throw new TypeError("dataCanLoop parameter type of each() must be Array or String.");for(var o=l(t)?t:null,i=0,a=e.length;i<a;i++)n.call(o,e[i])},n.curry2=function(e){if(!c(e))throw new TypeError("func parameter type of curry2() must be Function.");return function(n){return function(t){return e(t,n)}}});n.gt=_(function(e,n){if(!v(d(e),d(n)))throw new TypeError("gt requires Number parameters.");return e>n}),n.lt=_(function(e,n){if(!v(d(e),d(n)))throw new TypeError("lt requires Number parameters.");return e<n}),n.lte=_(function(e,n){if(!v(d(e),d(n)))throw new TypeError("lte requires Number parameters.");return e<=n}),n.getSizeAspectFill=function(e,n,t,o){if(!v(d(e),d(n),d(t),d(o)))throw new TypeError("getSizeAspectFill() requires Number parameters.");var r=t,i=Math.ceil(t/e*n);return i<o&&(r=Math.ceil(o/n*e),i=o),{width:r,height:i}}},function(n,t){n.exports=e},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=t(1),l=function(e){return e&&e.__esModule?e:{default:e}}(i),a=t(0),u=function(){function e(n){if(o(this,e),(0,a.isNotDef)(n))throw new Error("Navi: require options object when create instance.");var t=this;if(t._option=l.default.extend({wrap:null,btns:[],mouseoverCallback:null,mouseoutCallback:null,mousedownCallback:null,mouseupCallback:null,clickCallback:null,activateCallback:null},n),t._initialized=!1,t._uniqueId=Date.now(),t._$btns=(0,l.default)(t._option.btns||[]),t._currentIndex=0,t._activatedIndex=0,t._proxy={mouseoverBtnEventHandler:null,mouseoutBtnEventHandler:null,mousedownBtnEventHandler:null,mouseupBtnEventHandler:null,clickBtnEventHandler:null},(0,a.notSingleEle)((0,l.default)(t._option.wrap)))throw new Error("Navi: require options object has a single wrap.")}return r(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._proxy.mouseoverBtnEventHandler=l.default.proxy(e._mouseoverBtnEventHandler,e),e._proxy.mouseoutBtnEventHandler=l.default.proxy(e._mouseoutBtnEventHandler,e),e._proxy.mousedownBtnEventHandler=l.default.proxy(e._mousedownBtnEventHandler,e),e._proxy.mouseupBtnEventHandler=l.default.proxy(e._mouseupBtnEventHandler,e),e._proxy.clickBtnEventHandler=l.default.proxy(e._clickBtnEventHandler,e),e.setBtnsEventHandler(!0),e)}},{key:"getBtns",value:function(){return this._$btns.toArray()}},{key:"getBtn",value:function(e){var n=this,t=e-1;return t<0||t>=n._$btns.length?null:n._$btns.get(t)}},{key:"getActivatedIndex",value:function(){return this._activatedIndex}},{key:"activate",value:function(e){var n=this,t=e<=0||e>n._$btns.length?0:e;return(0,a.isFunction)(n._option.activateCallback)&&n._option.activateCallback.call(null,{prevActivatedIndex:n._activatedIndex,index:t}),n._activatedIndex=t,n}},{key:"setBtnsEventHandler",value:function(e){if((0,a.not)(a.isBoolean)(e))throw new TypeError("Navi: setBtnsEventHandler require boolean parameter.");var n=this;return(0,l.default)(n._option.wrap).off("mouseover.kihon.navi."+n._uniqueId,n._proxy.mouseoverBtnEventHandler).off("mouseout.kihon.navi."+n._uniqueId,n._proxy.mouseoutBtnEventHandler).off("mousedown.kihon.navi."+n._uniqueId,n._proxy.mousedownBtnEventHandler).off("mouseup.kihon.navi."+n._uniqueId,n._proxy.mouseupBtnEventHandler).off("click.kihon.navi."+n._uniqueId,n._proxy.clickBtnEventHandler),e&&(0,l.default)(n._option.wrap).on("mouseover.kihon.navi."+n._uniqueId,n._proxy.mouseoverBtnEventHandler).on("mouseout.kihon.navi."+n._uniqueId,n._proxy.mouseoutBtnEventHandler).on("mousedown.kihon.navi."+n._uniqueId,n._proxy.mousedownBtnEventHandler).on("mouseup.kihon.navi."+n._uniqueId,n._proxy.mouseupBtnEventHandler).on("click.kihon.navi."+n._uniqueId,n._proxy.clickBtnEventHandler),n}},{key:"destroy",value:function(){var e=this;return e._initialized=!1,e.setBtnsEventHandler(!1),e._currentIndex=0,e._activatedIndex=0,e._proxy.mouseoverBtnEventHandler=null,e._proxy.mouseoutBtnEventHandler=null,e._proxy.mousedownBtnEventHandler=null,e._proxy.mouseupBtnEventHandler=null,e._proxy.clickBtnEventHandler=null,e}},{key:"_mouseoverBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);o<0||(n._currentIndex=o+1,(0,a.isFunction)(n._option.mouseoverCallback)&&n._option.mouseoverCallback.call(null,{event:e,btn:t,index:n._currentIndex}))}},{key:"_mouseoutBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);o<0||(0,a.isFunction)(n._option.mouseoutCallback)&&n._option.mouseoutCallback.call(null,{event:e,btn:t,index:o+1})}},{key:"_mousedownBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);o<0||(e.preventDefault(),(0,a.isFunction)(n._option.mousedownCallback)&&n._option.mousedownCallback.call(null,{event:e,btn:t,index:o+1}))}},{key:"_mouseupBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);o<0||(e.preventDefault(),(0,a.isFunction)(n._option.mouseupCallback)&&n._option.mouseupCallback.call(null,{event:e,btn:t,index:o+1}))}},{key:"_clickBtnEventHandler",value:function(e){var n=this,t=e.target,o=n._$btns.index(t);if(!(o<0)){e.preventDefault();var r=n._activatedIndex;(0,a.isFunction)(n._option.clickCallback)&&n._option.clickCallback.call(null,{event:e,btn:t,prevActivatedIndex:r,index:o+1}),(0,a.isFunction)(n._option.activateCallback)&&n._option.activateCallback.call(null,{prevActivatedIndex:r,index:o+1}),n._currentIndex=n._activatedIndex=o+1}}}]),e}();n.default=u},function(e,n,t){e.exports=t(4)},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(5),i=o(r),l=t(6),a=o(l),u=t(7),d=o(u),s=t(2),c=o(s),v=t(8),p=o(v),_=t(9),f=o(_),h=t(10),y=o(h);n.default={FullSizeBg:i.default,FullSizeVideo:a.default,ImageLoader:d.default,Navi:c.default,NaviHasTimer:p.default,Overlay:f.default,Modal:y.default}},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=t(1),l=function(e){return e&&e.__esModule?e:{default:e}}(i),a=t(0),u=function(){function e(n){if(o(this,e),(0,a.isNotDef)(n))throw new Error("FullSizeBg: require options object when create instance.");var t=this;if(t._option=l.default.extend({wrap:null,imgWrap:null,imgWidth:320,imgHeight:240,alignX:"center",alignY:"center",global:window},n),t._global=t._option.global,t._initialized=!1,t._uniqueId=Date.now(),t._$wrap=(0,l.default)(t._option.wrap),t._$imgWrap=(0,l.default)(t._option.imgWrap),t._$img=(0,l.default)("img",t._option.imgWrap),t._proxy={resizeEventHandler:null},(0,a.anyOf)((0,a.notSingleEle)(t._$img),(0,a.notSingleEle)(t._$imgWrap),(0,a.notSingleEle)(t._$img)))throw new Error("FullSizeBg: require options object has a single wrap, imgWrap, img.")}return r(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._proxy.resizeEventHandler=l.default.proxy(e.resize,e),e.setResizeEventHandler(!0),e.resize(),e)}},{key:"setResizeEventHandler",value:function(e){if((0,a.not)(a.isBoolean)(e))throw new TypeError("FullSizeBg: setResizeEventHandler require boolean parameter.");var n=this,t="resize.kihon.fullsizebg."+n._uniqueId;return(0,l.default)(n._global).off(t,n._proxy.resizeEventHandler),e&&(0,l.default)(n._global).on(t,n._proxy.resizeEventHandler),n}},{key:"resize",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this),n=e.getImageSizeAspectFill(e._option.imgWidth,e._option.imgHeight,e._global);return e._$img.css({width:n.width,height:n.height}),e._setWrapAlign(e._option.alignX,e._option.alignY,n,e._global),e._$wrap.css({width:e._global.innerWidth,height:e._global.innerHeight}),e}},{key:"getImageSizeAspectFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return(0,a.getSizeAspectFill)(e,n,t.innerWidth,t.innerHeight)}},{key:"destroy",value:function(){var e=this;return e._initialized=!1,e._$wrap=null,e._$imgWrap=null,e._$img=null,e.setResizeEventHandler(!1),e._proxy.resizeEventHandler=null,e}},{key:"_setWrapAlign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:0,height:0},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,r=this,i=o.innerWidth,l=o.innerHeight,a=0,u=0;switch(e){case"left":a=0;break;case"center":a=Math.round((i-t.width)/2);break;case"right":a=Math.round(i-t.width)}switch(n){case"top":u=0;break;case"center":u=Math.round((l-t.height)/2);break;case"bottom":u=Math.round(l-t.height)}return r._$imgWrap.css({left:a,top:u}),r}}]),e}();n.default=u},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=t(1),l=function(e){return e&&e.__esModule?e:{default:e}}(i),a=t(0),u=function(){function e(n){if(o(this,e),(0,a.isNotDef)(n))throw new Error("FullSizeVideo: require options object when create instance.");var t=this;if(t._option=l.default.extend({wrap:null,videoWrap:null,videoUrls:[],videoWidth:320,videoHeight:240,alignX:"center",alignY:"center",isAutoPlay:!0,isLoop:!1,isMuted:!1,canplayCallback:null,timeupdateCallback:null,endedCallback:null,global:window},n),t._global=t._option.global,t._initialized=!1,t._uniqueId=Date.now(),t._$wrap=(0,l.default)(t._option.wrap),t._$videoWrap=(0,l.default)(t._option.videoWrap),t._$video=null,t._proxy={resizeEventHandler:null},(0,a.notSingleEle)(t._$wrap))throw new Error("FullSizeVideo: require options object has a single wrap.");if((0,a.notSingleEle)(t._$videoWrap))throw new Error("FullSizeVideo: require options object has a single videoWrap.")}return r(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._proxy.resizeEventHandler=l.default.proxy(e.resize,e),e._setVideo(),e._setCallbacks(),e.setResizeEventHandler(!0),e.resize(),e)}},{key:"getVideoNode",value:function(){return this._$video}},{key:"getVideoSizeAspectFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return(0,a.getSizeAspectFill)(e,n,t.innerWidth,t.innerHeight)}},{key:"getVolume",value:function(){var e=this;if((0,a.isNotDef)(e._$video)||(0,a.notSingleEle)(e._$video))return null;var n=e._$video.get(0);return(0,a.not)(a.isVideoElement)(n)?null:n.volume}},{key:"setVolume",value:function(e){var n=this;if((0,a.not)(a.isNumber)(e))throw new TypeError("FullSizeVideo: setVolume require a number parameter.");if((0,a.gt)(e)(0)||(0,a.lt)(e)(1))throw new Error("FullSizeVideo: setVolume require a number between 0 and 1.");if((0,a.isNotDef)(n._$video)||(0,a.notSingleEle)(n._$video))return n;var t=n._$video.get(0);return(0,a.not)(a.isVideoElement)(t)?n:(t.volume=e,n)}},{key:"play",value:function(){var e=this;if((0,a.isNotDef)(e._$video)||(0,a.notSingleEle)(e._$video))return e;var n=e._$video.get(0);return(0,a.not)(a.isVideoElement)(n)?e:(n.play(),e)}},{key:"pause",value:function(){var e=this;if((0,a.isNotDef)(e._$video)||(0,a.notSingleEle)(e._$video))return e;var n=e._$video.get(0);return(0,a.not)(a.isVideoElement)(n)?e:(n.pause(),e)}},{key:"stop",value:function(){var e=this;if((0,a.isNotDef)(e._$video)||(0,a.notSingleEle)(e._$video))return e;var n=e._$video.get(0);return(0,a.not)(a.isVideoElement)(n)?e:(n.pause(),n.currentTime=0,e)}},{key:"seek",value:function(e){var n=this;if((0,a.isNotDef)(n._$video)||(0,a.notSingleEle)(n._$video))return n;var t=n._$video.get(0);return(0,a.not)(a.isVideoElement)(t)?n:(t.currentTime=e,n)}},{key:"setResizeEventHandler",value:function(e){if((0,a.not)(a.isBoolean)(e))throw new TypeError("FullSizeVideo: setResizeEventHandler require boolean parameter.");var n=this,t="resize.kihon.fullsizevideo."+n._uniqueId;return(0,l.default)(n._global).off(t,n._proxy.resizeEventHandler),e&&(0,l.default)(n._global).on(t,n._proxy.resizeEventHandler),n}},{key:"resize",value:function(e){var n=this,t=n._option,o=n.getVideoSizeAspectFill(t.videoWidth,t.videoHeight,n._global);return n._$video.width(o.width).height(o.height),n._setWrapAlign(t.alignX,t.alignY,o,n._global),n._$wrap.css({width:n._global.innerWidth,height:n._global.innerHeight}),n}},{key:"destroy",value:function(){var e=this;return e._initialized=!1,(0,a.isDefined)(e._$video)&&(e.pause(),e._$video.off("canplay.kihon.fullsizevideo."+e._uniqueId).off("timeupdate.kihon.fullsizevideo."+e._uniqueId).off("ended.kihon.fullsizevideo."+e._uniqueId)),e._$wrap=null,e._$videoWrap=null,e._$video=null,e.setResizeEventHandler(!1),e.proxy.resizeEventHandler=null,e}},{key:"_setVideo",value:function(){var e=this,n=e._option,t="",o="";(0,a.each)(n.videoUrls,function(e){t=e.split(".").pop().toLowerCase(),o+='<source src="'+e+'" type="video/'+("ogv"===t?"ogg":t)+'"></source>'}),e._$videoWrap.append("<video>"+o+"</video>"),e._$video=(0,l.default)("video",e._$videoWrap);var r=e._$video.get(0);!0===n.isAutoPlay&&r.setAttribute("autoplay",""),!0===n.isMuted&&r.setAttribute("muted",""),!0===n.isLoop&&r.setAttribute("loop","")}},{key:"_setCallbacks",value:function(){var e=this,n=e._option,t=e._$video.get(0),o=t.hasOwnProperty("onended");(0,a.isFunction)(n.canplayCallback)&&e._$video.on("canplay.kihon.fullsizevideo."+e._uniqueId,function(e){n.canplayCallback.call(null,{event:e})}),((0,a.isFunction)(n.timeupdateCallback)||(0,a.allOf)((0,a.falsy)(o),(0,a.isFunction)(n.endedCallback)))&&e._$video.on("timeupdate.kihon.fullsizevideo."+e._uniqueId,function(e){(0,a.isFunction)(n.timeupdateCallback)&&n.timeupdateCallback.call(null,{event:e,currentTime:t.currentTime,duration:t.duration}),(0,a.allOf)((0,a.isFunction)(n.endedCallback),(0,a.lte)(t.currentTime)(t.duration))&&n.endedCallback.call(null,{event:e,currentTime:t.currentTime,duration:t.duration})}),(0,a.allOf)((0,a.truthy)(o),(0,a.isFunction)(n.endedCallback))&&e._$video.on("ended.kihon.fullsizevideo."+e._uniqueId,function(e){n.endedCallback.call(null,{event:e,currentTime:t.currentTime,duration:t.duration})})}},{key:"_setWrapAlign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:0,height:0},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,r=this,i=o.innerWidth,l=o.innerHeight,a=0,u=0;switch(e){case"left":a=0;break;case"center":a=Math.round((i-t.width)/2);break;case"right":a=Math.round(i-t.width)}switch(n){case"top":u=0;break;case"center":u=Math.round((l-t.height)/2);break;case"bottom":u=Math.round(l-t.height)}return r._$videoWrap.css({left:a,top:u}),r}}]),e}();n.default=u},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=t(0),l=function(){function e(n){o(this,e);var t=this;if((0,i.isNotDef)(n))throw new Error("ImageLoader: require options object when create instance.");t._loadCompleteCallback=(0,i.isFunction)(n.loadCompleteCallback)?n.loadCompleteCallback:null,t._loadPerCompleteCallback=(0,i.isFunction)(n.loadPerCompleteCallback)?n.loadPerCompleteCallback:null,t._loadErrorCallback=(0,i.isFunction)(n.loadErrorCallback)?n.loadErrorCallback:null,t._isLoading=!1,t._isFinish=!1,t._loadedImgs=[],t._imgs=[],t._imgUrls=[],t._loadingIndex=0,t._loadFailNum=0,t._loadSuccessNum=0,t._loadCompleteNum=0,t._percentageLoaded=0}return r(e,[{key:"start",value:function(e){var n=this;if((0,i.isNotDef)(e)||(0,i.not)(Array.isArray)(e))throw TypeError("ImageLoader: start require array parameter");return e.length>0&&(n._imgUrls=e,n._isLoading||(n._isLoading=!0,n._isFinish=!1,n._loadNext())),n}},{key:"isFinished",value:function(){return this._isFinish}},{key:"getLoadedImgs",value:function(){return this._loadedImgs}},{key:"getPercentageLoaded",value:function(){return this.percentageLoaded}},{key:"destroy",value:function(){var e=this;if(!0===e._isLoading)for(var n=void 0,t=0,o=e._imgs.length;t<o;t++)(n=e._imgs[t])&&(n.onload=null,n.onerror=null);return e._loadCompleteCallback=null,e._loadPerCompleteCallback=null,e._loadErrorCallback=null,e._isLoading=!1,e._isFinish=!1,e._loadedImgs=[],e._imgs=[],e._imgUrls=[],e._loadingIndex=0,e._loadFailNum=0,e._loadSuccessNum=0,e._loadCompleteNum=0,e._percentageLoaded=0,e}},{key:"_loadNext",value:function(){var e=this;if(e._loadingIndex>=e._imgUrls.length)return e._isLoading=!1,e._isFinish=!0,void(e._loadCompleteCallback&&e._loadCompleteCallback.call(null,{imgs:e._loadedImgs,percentage:e._percentageLoaded}));var n=document.createElement("img");n.onload=function(n){var t=this;t&&e._loadedImgs.push(t),e._loadingIndex++,e._loadSuccessNum++,e._loadCompleteNum++,e._percentageLoaded=e._loadCompleteNum/e._imgUrls.length,e._loadPerCompleteCallback&&e._loadPerCompleteCallback.call(null,{event:n,img:t,percentage:e._percentageLoaded}),e._loadNext()},n.onerror=function(n){var t=this;e._loadedImgs.push(null),e._loadingIndex++,e._loadFailNum++,e._loadCompleteNum++,e._percentageLoaded=e._loadCompleteNum/e._imgUrls.length,e._loadErrorCallback&&e._loadErrorCallback.call(null,{event:n,img:t,percentage:e._percentageLoaded}),e._loadNext()},n.src=e._imgUrls[e._loadingIndex],e._imgs.push(n)}}]),e}();n.default=l},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=function e(n,t,o){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,t);if(void 0===r){var i=Object.getPrototypeOf(n);return null===i?void 0:e(i,t,o)}if("value"in r)return r.value;var l=r.get;if(void 0!==l)return l.call(o)},u=t(2),d=function(e){return e&&e.__esModule?e:{default:e}}(u),s=t(0),c=function(e){function n(e){if(o(this,n),(0,s.isNotDef)(e))throw new Error("NaviHasTimer: require options object when create instance.");var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),i=t;return i._timerInterval=(0,s.isNumber)(e.timerInterval)&&e.timerInterval>=0?e.timerInterval:500,i._timer=null,t}return i(n,e),l(n,[{key:"destroy",value:function(){return this._removeTimer(),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this),this}},{key:"_mouseoverBtnEventHandler",value:function(e){this._removeTimer(),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_mouseoverBtnEventHandler",this).call(this,e)}},{key:"_mouseoutBtnEventHandler",value:function(e){var t=this;a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_mouseoutBtnEventHandler",this).call(this,e),t._timer=setTimeout(function(){t._activateByTimer(t._activatedIndex)},t._timerInterval)}},{key:"_activateByTimer",value:function(e){return a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"activate",this).call(this,e),this}},{key:"_removeTimer",value:function(){var e=this;return(0,s.isDefined)(e._timer)&&clearTimeout(e._timer),e._timer=null,e}}]),n}(d.default);n.default=c},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=t(1),l=function(e){return e&&e.__esModule?e:{default:e}}(i),a=t(0),u=function(){function e(n){o(this,e);var t=this;t._option=l.default.extend({class:"overlay",color:"#000",opacity:.5,appendTo:(0,l.default)("body"),clickCallback:null},n),t._initialized=!1,t._uniqueId=Date.now(),t._$node=null,t._$parentNode=t._option.appendTo,t._proxy={clickOverlayEventHandler:null}}return r(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._$node=(0,l.default)(document.createElement("div")).addClass(e._option.class),e._$node.css({position:"fixed",width:"100%",height:"100%",top:0,left:0,"background-color":e._option.color,opacity:e._option.opacity,filter:"alpha(opacity="+100*e._option.opacity+")"}),e._$parentNode.append(e._$node),e._proxy.clickOverlayEventHandler=(0,a.isFunction)(e._option.clickCallback)?l.default.proxy(e._option.clickCallback,e):null,e.hide(),e.setNodeEventHandler(!0),e)}},{key:"setNodeEventHandler",value:function(e){if((0,a.not)(a.isBoolean)(e))throw new TypeError("Overlay: setNodeEventHandler require boolean parameter.");var n=this,t="click.kihon.overlay."+n._uniqueId;return(0,a.not)(a.isFunction)(n._option.clickCallback)?n:(n._$node.off(t,n._proxy.clickOverlayEventHandler),e&&n._$node.on(t,n._proxy.clickOverlayEventHandler),n)}},{key:"getNode",value:function(){return this._$node}},{key:"setCss",value:function(e){var n=this;return n._$node.length>0&&n._$node.css(e),n}},{key:"appendTo",value:function(e){var n=this;return n._$parentNode=n._option.appendTo=(0,l.default)(e),n._$parentNode.append(n._$node),n}},{key:"show",value:function(){var e=this;return e._$node.length>0&&e._$node.show(),e}},{key:"hide",value:function(){var e=this;return e._$node.length>0&&e._$node.hide(),e}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this;if(e=l.default.extend({isRemoveNode:!0},e),(0,a.not)(a.isBoolean)(e.isRemoveNode))throw new TypeError("Overlay: destroy isRemoveNode variable type of option should be boolean.");return n._initialized=!1,n.setNodeEventHandler(!1),n._proxy.clickOverlayEventHandler=null,e.isRemoveNode&&n._$node.remove(),n._$node=null,n._$parentNode=null,n._option=null,n}}]),e}();n.default=u},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=t(1),l=function(e){return e&&e.__esModule?e:{default:e}}(i),a=t(0),u=function(){function e(n){o(this,e);var t=this;t._option=l.default.extend({wrapClass:"modal-wrap",contents:"",appendTo:(0,l.default)("body"),closeBtnSelector:".btn-close",isCloseByClickOutside:!0,isCloseByEscKey:!0,overlay:null,showCallback:null,hideCallback:null},n),t._initialized=!1,t._uniqueId=Date.now(),t._$wrap=null,t._$contents=null,t._$parentNode=(0,l.default)(t._option.appendTo),t._$closeBtn=null,t._overlay=t._option.overlay,t._isShow=!1,t._proxy={closeBtnEventHandler:null,wrapEventHandler:null,escKeyEventHandler:null}}return r(e,[{key:"init",value:function(){var e=this;return e._initialized?e:(e._initialized=!0,e._$contents=(0,l.default)(e._option.contents),e._$wrap=(0,l.default)(document.createElement("div")).addClass(e._option.wrapClass),e._$wrap.html(e._$contents).hide(),e._$parentNode.append(e._$wrap),e._$closeBtn=(0,l.default)(e._option.closeBtnSelector,e._$wrap),e._proxy.closeBtnEventHandler=l.default.proxy(e._closeBtnEventHandler,e),e._proxy.wrapEventHandler=l.default.proxy(e._wrapEventHandler,e),e._proxy.escKeyEventHandler=l.default.proxy(e._escKeyEventHandler,e),e._$closeBtn.length>0&&e.setCloseBtnEventHandler(!0),!0===e._option.isCloseByClickOutside&&e.setWrapEventHandler(!0),!0===e._option.isCloseByEscKey&&e.setEscKeyEventHandler(!0),e)}},{key:"setCloseBtnEventHandler",value:function(e){if((0,a.not)(a.isBoolean)(e))throw new TypeError("Modal: setCloseBtnEventHandler require boolean parameter.");var n=this,t="click.kihon.modal."+n._uniqueId;return n._$closeBtn.length<=0?n:(n._$closeBtn.off(t,n._proxy.closeBtnEventHandler),e&&n._$closeBtn.on(t,n._proxy.closeBtnEventHandler),n)}},{key:"setWrapEventHandler",value:function(e){if((0,a.not)(a.isBoolean)(e))throw new TypeError("Modal: setWrapEventHandler require boolean parameter.");var n=this,t="click.kihon.modal."+n._uniqueId;return(0,a.isNotDef)(n._$wrap)||n._$wrap.length<=0?n:(n._$wrap.off(t,n._proxy.wrapEventHandler),e&&n._$wrap.on(t,n._proxy.wrapEventHandler),n)}},{key:"setEscKeyEventHandler",value:function(e){if((0,a.not)(a.isBoolean)(e))throw new TypeError("Modal: setEscKeyEventHandler require boolean parameter.");var n=this,t="keydown.kihon.modal."+n._uniqueId;return(0,l.default)("body").off(t,n._proxy.escKeyEventHandler),e&&(0,l.default)("body").on(t,n._proxy.escKeyEventHandler),n}},{key:"getNode",value:function(){return this._$wrap}},{key:"appendTo",value:function(e){var n=this;return n._$parentNode=n._option.appendTo=(0,l.default)(e),n._$parentNode.append(n._$wrap),n}},{key:"show",value:function(){var e=this;if(!(0,a.truthy)(e._isShow))return e._isShow=!0,(0,a.isFunction)(e._option.showCallback)&&e._option.showCallback.call(e),(0,a.isDefined)(e._$wrap)&&e._$wrap.show(),(0,a.isDefined)(e._overlay)&&e._overlay.show(),e}},{key:"hide",value:function(){var e=this;if(e._isShow)return e._isShow=!1,(0,a.isFunction)(e._option.hideCallback)&&e._option.hideCallback.call(e),(0,a.isDefined)(e._$wrap)&&e._$wrap.hide(),(0,a.isDefined)(e._overlay)&&e._overlay.hide(),e}},{key:"isShow",value:function(){return this._isShow}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this;if(e=l.default.extend({isRemoveNode:!0,isRemoveOverlay:!0},e),(0,a.not)(a.isBoolean)(e.isRemoveNode))throw new TypeError("Modal: destroy isRemoveNode variable type of option should be boolean.");if((0,a.not)(a.isBoolean)(e.isRemoveOverlay))throw new TypeError("Modal: destroy isRemoveOverlay variable type of option should be boolean.");return n._initialized=!1,n.setCloseBtnEventHandler(!1),n.setWrapEventHandler(!1),n.setEscKeyEventHandler(!1),(0,a.isDefined)(n._$wrap)&&((0,a.truthy)(e.isRemoveNode)&&n._$wrap.remove(),n._$wrap=null),n._$contents=null,n._$parentNode=null,n._$closeBtn=null,(0,a.isDefined)(n._overlay)&&(n._overlay.destroy({isRemoveNode:e.isRemoveOverlay}),n._overlay=null),n._proxy.closeBtnEventHandler=null,n._proxy.wrapEventHandler=null,n._proxy.escKeyEventHandler=null,n}},{key:"_closeBtnEventHandler",value:function(e){switch(e.preventDefault(),e.type){case"click":this.hide()}}},{key:"_wrapEventHandler",value:function(e){var n=this;switch(e.type){case"click":if((0,a.falsy)(n._option.isCloseByClickOutside))return;if(e.target===n._$contents.get(0)||l.default.contains(n._$contents.get(0),e.target))return;n.hide()}}},{key:"_escKeyEventHandler",value:function(e){switch(e.type){case"keydown":27===e.keyCode&&this.hide()}}}]),e}();n.default=u}]).default});
//# sourceMappingURL=kihon.min.js.map